# build larsoftobj distribution

basequal=${1}

# specify version to bootstrap and setup ups
check_ups v6_0_7

build_bundle gallery-@GALLERY_DOT_VERSION@ ${basequal}
status=$?
if (( ${status} != 0)); then
  cat 1>&2 <<EOF
Build of gallery-@GALLERY_DOT_VERSION@ bundle failed with status ${status}
EOF
  return ${status}
fi
unset build_label

build_noarch mrb @MRB_VERSION@

do_build cmake v3_9_5

# new cetpkgsupport - temporary
ensure_cetpkgsupport @CETPKGSUPPORT_VERSION@
ensure_cetbuildtools v5_14_04 v6_01_00 v6_01_01 v7_02_01

build_cet nusimdata  @NUSIMDATA_VERSION@ ${basequal}
build_cet larcoreobj @LARCOREOBJ_VERSION@ ${basequal}
build_cet -n larcorealg @LARCOREALG_VERSION@ ${basequal}
build_cet lardataobj @LARDATAOBJ_VERSION@ ${basequal}
build_cet larsoftobj @LARSOFTOBJ_VERSION@ ${basequal}

return 0
